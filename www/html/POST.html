<!DOCTYPE html>
<html>
<head>
  <title>POST File Test</title>
</head>
<body>
  <h2>Upload File</h2>
  <form id="postForm">
    <label for="filename">Filename (e.g., uploads/test.txt):</label><br>
    <input type="text" id="filename" name="filename" required><br><br>

    <label for="content">File Content:</label><br>
    <textarea id="content" name="content" rows="10" cols="40" required></textarea><br><br>

    <button type="submit">Upload</button>
  </form>

  <script>
    document.getElementById("postForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const filename = document.getElementById("filename").value;
      const content = document.getElementById("content").value;

      fetch("/" + filename, {
        method: "POST",
        headers: {
          "Content-Type": "text/plain",
          "Content-Length": content.length
        },
        body: content
      })
      .then(res => res.text())
      .then(html => {
        document.open();
        document.write(html);
        document.close();
      })
      .catch(err => {
        document.body.innerHTML = "<h3>Error sending POST request</h3><p>" + err + "</p>";
      });
    });
  </script>
</body>
</html>
