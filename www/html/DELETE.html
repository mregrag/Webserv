<!-- <!DOCTYPE html>
<html>
<head>
  <title>DELETE File Test</title>
</head>
<body>
  <h2>Delete a File</h2>
  <form id="deleteForm">
    <label for="filename">File to delete (relative to server root):</label><br>
    <input type="text" id="filename" name="filename" placeholder="e.g., uploads/file.txt"><br><br>
    <button type="submit">Delete File</button>
  </form>

  <script>
    document.getElementById("deleteForm").addEventListener("submit", function(e) {
      e.preventDefault(); // Prevent reloading

      const filename = document.getElementById("filename").value;
      const url = "/" + filename;

      // Just send the DELETE request, nothing else
      fetch(url, { method: "DELETE" });
    });
  </script>
</body>
</html> -->


<!DOCTYPE html>
<html>
<head>
  <title>DELETE File Test</title>
</head>
<body>
  <h2>Delete a File</h2>
  <form id="deleteForm">
    <label for="filename">File to delete (relative to server root):</label><br>
    <input type="text" id="filename" name="filename" placeholder="e.g., uploads/file.txt"><br><br>
    <button type="submit">Delete File</button>
  </form>

  <script>
    document.getElementById("deleteForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const filename = document.getElementById("filename").value;
      const url = "/" + filename;

      fetch(url, { method: "DELETE" })
        .then(res => res.text())
        .then(html => {
          // Replace current page with response
          document.open();
          document.write(html);
          document.close();
        })
        .catch(err => {
          document.body.innerHTML = "<h3>Error sending DELETE request</h3><p>" + err + "</p>";
        });
    });
  </script>
</body>
</html>
